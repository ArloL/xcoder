<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Xcode::Buildspec::TaskBuilder
  
    &mdash; Documentation by YARD 0.7.5
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (T)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../Xcode.html" title="Xcode (module)">Xcode</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Buildspec.html" title="Xcode::Buildspec (class)">Buildspec</a></span></span>
     &raquo; 
    <span class="title">TaskBuilder</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Xcode::Buildspec::TaskBuilder
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Rake::TaskLib</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Rake::TaskLib</li>
          
            <li class="next">Xcode::Buildspec::TaskBuilder</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2">Rake::DSL</dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/xcode/buildspec.rb</dd>
  
</dl>
<div class="clear"></div>








  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#before-instance_method" title="#before (instance method)">- (Object) <strong>before</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A block to run before each builder invocation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#build_number-instance_method" title="#build_number (instance method)">- (Object) <strong>build_number</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A block to generate the build number.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#builder-instance_method" title="#builder (instance method)">- (Object) <strong>builder</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Internally used to lazily instantiate the builder given the properties that
have been set.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#deploy-instance_method" title="#deploy (instance method)">- (Object) <strong>deploy</strong>(type, args = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Set a deployment target.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#generate_rake_tasks-instance_method" title="#generate_rake_tasks (instance method)">- (Object) <strong>generate_rake_tasks</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a set of rake tasks for this buildspec.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#identity-instance_method" title="#identity (instance method)">- (Object) <strong>identity</strong>(identity) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Set's the identity to use to sign the package.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (TaskBuilder) <strong>initialize</strong> </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of TaskBuilder.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#keychain-instance_method" title="#keychain (instance method)">- (Object) <strong>keychain</strong>(path, password = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Configure a keychain to use (optional).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#notify-instance_method" title="#notify (instance method)">- (Object) <strong>notify</strong>(type, args = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#platform-instance_method" title="#platform (instance method)">- (Object) <strong>platform</strong>(name, version = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specify the platform to build for.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#profile-instance_method" title="#profile (instance method)">- (Object) <strong>profile</strong>(profile) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Set the profile (i.e. .mobileprovision) to use.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#project_name-instance_method" title="#project_name (instance method)">- (Object) <strong>project_name</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use-instance_method" title="#use (instance method)">- (Object) <strong>use</strong>(filename, args = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Use the given project/workspace file.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Xcode::Buildspec::TaskBuilder (class)">TaskBuilder</a></span></tt>) <strong>initialize</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>A new instance of TaskBuilder</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


70
71
72
73
74
75
76
77
78
79</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/xcode/buildspec.rb', line 70</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
  <span class='ivar'>@before</span> <span class='op'>=</span> <span class='id identifier rubyid_lambda'>lambda</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_builder'>builder</span><span class='op'>|</span> <span class='kw'>return</span> <span class='kw'>nil</span> <span class='rbrace'>}</span>
  <span class='ivar'>@deployments</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@build_number</span> <span class='op'>=</span> <span class='id identifier rubyid_lambda'>lambda</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_timestamp'>timestamp</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%Y%m%d%H%M%S</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>BUILD_NUMBER</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='op'>||</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SNAPSHOT-</span><span class='embexpr_beg'>#{</span><span class='const'>Socket</span><span class='period'>.</span><span class='id identifier rubyid_gethostname'>gethostname</span><span class='rbrace'>}</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_timestamp'>timestamp</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='comment'># @profile = &quot;Provisioning/#{name}.mobileprovision&quot;
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="before-instance_method">
  
    - (<tt>Object</tt>) <strong>before</strong>(&amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>A block to run before each builder invocation</p>

<p>If supplied, the block will be yielded the builder object just before the
invocation of clean/build/package</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>the</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>block to call</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


102
103
104</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/xcode/buildspec.rb', line 102</span>

<span class='kw'>def</span> <span class='id identifier rubyid_before'>before</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='ivar'>@before</span> <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="build_number-instance_method">
  
    - (<tt>Object</tt>) <strong>build_number</strong>(&amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>A block to generate the build number</p>

<p>This is optional, by default it will use <a
href="http://'BUILD_NUMBER'">ENV</a> or create a snapshot filename based on
the hostname and time</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>the</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>block to generate the build number</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


114
115
116</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/xcode/buildspec.rb', line 114</span>

<span class='kw'>def</span> <span class='id identifier rubyid_build_number'>build_number</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='ivar'>@build_number</span> <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="builder-instance_method">
  
    - (<tt>Object</tt>) <strong>builder</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Internally used to lazily instantiate the builder given the properties that
have been set.</p>


  </div>
</div>
<div class="tags">
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>the appropriate builder</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/xcode/buildspec.rb', line 186</span>

<span class='kw'>def</span> <span class='id identifier rubyid_builder'>builder</span>
  <span class='kw'>return</span> <span class='ivar'>@builder</span> <span class='kw'>unless</span> <span class='ivar'>@builder</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>profile must be defined</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@profile</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>project/workspace must be defined</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@filename</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

  <span class='kw'>begin</span> 
    <span class='id identifier rubyid_project'>project</span> <span class='op'>=</span> <span class='const'>Xcode</span><span class='period'>.</span><span class='id identifier rubyid_project'>project</span> <span class='ivar'>@filename</span>
    <span class='ivar'>@builder</span> <span class='op'>=</span> <span class='id identifier rubyid_project'>project</span><span class='period'>.</span><span class='id identifier rubyid_target'>target</span><span class='lparen'>(</span><span class='ivar'>@args</span><span class='lbracket'>[</span><span class='symbol'>:target</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='lparen'>(</span><span class='ivar'>@args</span><span class='lbracket'>[</span><span class='symbol'>:config</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_builder'>builder</span>
  <span class='kw'>rescue</span>
    <span class='id identifier rubyid_workspace'>workspace</span> <span class='op'>=</span> <span class='const'>Xcode</span><span class='period'>.</span><span class='id identifier rubyid_workspace'>workspace</span> <span class='ivar'>@filename</span>
    <span class='ivar'>@builder</span> <span class='op'>=</span> <span class='id identifier rubyid_workspace'>workspace</span><span class='period'>.</span><span class='id identifier rubyid_scheme'>scheme</span><span class='lparen'>(</span><span class='ivar'>@args</span><span class='lbracket'>[</span><span class='symbol'>:scheme</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_builder'>builder</span>
  <span class='kw'>rescue</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You must provide a project or workspace</span><span class='tstring_end'>&quot;</span></span>          
  <span class='kw'>end</span>          

  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Could not create a builder using </span><span class='embexpr_beg'>#{</span><span class='ivar'>@args</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@builder</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  
  <span class='kw'>unless</span> <span class='ivar'>@platform</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_sdk'>sdk</span> <span class='op'>=</span> <span class='ivar'>@platform</span><span class='period'>.</span><span class='id identifier rubyid_sdk'>sdk</span>
  <span class='kw'>end</span> 

  <span class='kw'>unless</span> <span class='ivar'>@identity</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_identity'>identity</span> <span class='op'>=</span> <span class='ivar'>@identity</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='ivar'>@keychain</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_keychain'>keychain</span> <span class='op'>=</span> <span class='const'>Xcode</span><span class='op'>::</span><span class='const'>Keychain</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='ivar'>@keychain</span><span class='lbracket'>[</span><span class='symbol'>:path</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_keychain'>keychain</span><span class='period'>.</span><span class='id identifier rubyid_unlock'>unlock</span> <span class='ivar'>@keychain</span><span class='lbracket'>[</span><span class='symbol'>:password</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='ivar'>@keychain</span><span class='lbracket'>[</span><span class='symbol'>:password</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

    <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_identity'>identity</span> <span class='op'>=</span> <span class='id identifier rubyid_keychain'>keychain</span><span class='period'>.</span><span class='id identifier rubyid_identities'>identities</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_keychain'>keychain</span> <span class='op'>=</span> <span class='id identifier rubyid_keychain'>keychain</span>
  <span class='kw'>end</span>
  
  <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_profile'>profile</span> <span class='op'>=</span> <span class='ivar'>@profile</span>

  <span class='ivar'>@before</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span> <span class='id identifier rubyid_builder'>builder</span>

  <span class='ivar'>@builder</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="deploy-instance_method">
  
    - (<tt>Object</tt>) <strong>deploy</strong>(type, args = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Set a deployment target.</p>

<p>This will configure a set of deploy: targets that will send the .ipa to
various services (testflight, s3, ftp, sftp, etc)</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>the</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>deployment type (testflight, etc)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>arguments</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>to pass to the deployment type</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


170
171
172</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/xcode/buildspec.rb', line 170</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deploy'>deploy</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@deployments</span> <span class='op'>&lt;&lt;</span> <span class='lbrace'>{</span><span class='symbol'>:type</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='symbol'>:args</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_args'>args</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="generate_rake_tasks-instance_method">
  
    - (<tt>Object</tt>) <strong>generate_rake_tasks</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Create a set of rake tasks for this buildspec</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/xcode/buildspec.rb', line 234</span>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_rake_tasks'>generate_rake_tasks</span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>socket</span><span class='tstring_end'>'</span></span>

<span class='comment'># namespace project_name.downcase do
</span>
  <span class='id identifier rubyid_desc'>desc</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Clean </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_project_name'>project_name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_task'>task</span> <span class='symbol'>:clean</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_clean'>clean</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_desc'>desc</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fetch dependencies for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_project_name'>project_name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_task'>task</span> <span class='symbol'>:deps</span> <span class='kw'>do</span> 
    <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_dependencies'>dependencies</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_desc'>desc</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Build </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_project_name'>project_name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_task'>task</span> <span class='symbol'>:build</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='symbol'>:clean</span><span class='comma'>,</span> <span class='symbol'>:deps</span><span class='rbracket'>]</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_info_plist'>info_plist</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_info'>info</span><span class='op'>|</span>
      <span class='id identifier rubyid_info'>info</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='ivar'>@build_number</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span>
      <span class='id identifier rubyid_info'>info</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_desc'>desc</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Test </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_project_name'>project_name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> 
  <span class='id identifier rubyid_task'>task</span> <span class='symbol'>:test</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='symbol'>:deps</span><span class='rbracket'>]</span> <span class='kw'>do</span> 
    <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_test'>test</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_desc'>desc</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Package (.ipa &amp; .dSYM.zip) </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_project_name'>project_name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_task'>task</span> <span class='symbol'>:package</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='symbol'>:build</span><span class='comma'>,</span> <span class='symbol'>:test</span><span class='rbracket'>]</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_package'>package</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_namespace'>namespace</span> <span class='symbol'>:deploy</span> <span class='kw'>do</span>
    <span class='ivar'>@deployments</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_deployment'>deployment</span><span class='op'>|</span>
      <span class='id identifier rubyid_desc'>desc</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Deploy </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_project_name'>project_name</span><span class='rbrace'>}</span><span class='tstring_content'> to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_deployment'>deployment</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_task'>task</span> <span class='id identifier rubyid_deployment'>deployment</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span>  <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='symbol'>:package</span><span class='rbracket'>]</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_deploy'>deploy</span> <span class='id identifier rubyid_deployment'>deployment</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_deployment'>deployment</span><span class='lbracket'>[</span><span class='symbol'>:args</span><span class='rbracket'>]</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_desc'>desc</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Deploy </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_project_name'>project_name</span><span class='rbrace'>}</span><span class='tstring_content'> to all</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_task'>task</span> <span class='symbol'>:all</span>  <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='symbol'>:package</span><span class='rbracket'>]</span><span class='op'>+</span><span class='lparen'>(</span><span class='ivar'>@deployments</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_k'>k</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Deployed to all</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="identity-instance_method">
  
    - (<tt>Object</tt>) <strong>identity</strong>(identity) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Set's the identity to use to sign the package</p>

<p>This should be the name of the identity in your keychain, such as  'iPhone
Distribution: My Name'</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>the</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of the identity</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


149
150
151</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/xcode/buildspec.rb', line 149</span>

<span class='kw'>def</span> <span class='id identifier rubyid_identity'>identity</span> <span class='id identifier rubyid_identity'>identity</span>
  <span class='ivar'>@identity</span> <span class='op'>=</span> <span class='id identifier rubyid_identity'>identity</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="keychain-instance_method">
  
    - (<tt>Object</tt>) <strong>keychain</strong>(path, password = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Configure a keychain to use (optional)</p>

<p>If specified, the keychain at the given path will be unlocked during the
build and the first identity will be set on the builder</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>the</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>path to the keychain</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>the</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>password to unlock the keychain</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


127
128
129</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/xcode/buildspec.rb', line 127</span>

<span class='kw'>def</span> <span class='id identifier rubyid_keychain'>keychain</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@keychain</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='symbol'>:path</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='symbol'>:password</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_password'>password</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="notify-instance_method">
  
    - (<tt>Object</tt>) <strong>notify</strong>(type, args = {}) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


175
176
177</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/xcode/buildspec.rb', line 175</span>

<span class='kw'>def</span> <span class='id identifier rubyid_notify'>notify</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@notifications</span> <span class='op'>&lt;&lt;</span> <span class='lbrace'>{</span><span class='symbol'>:type</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='symbol'>:args</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_args'>args</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="platform-instance_method">
  
    - (<tt>Object</tt>) <strong>platform</strong>(name, version = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Specify the platform to build for</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>the</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>platform, can be 'iphone', 'iphonesimulator', 'macosx'</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>the</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>version, can be any valid, installed sdk version for the appropriate
platform or nil</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


137
138
139</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/xcode/buildspec.rb', line 137</span>

<span class='kw'>def</span> <span class='id identifier rubyid_platform'>platform</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span><span class='op'>=</span><span class='kw'>nil</span>
  <span class='ivar'>@platform</span> <span class='op'>=</span> <span class='const'>Xcode</span><span class='op'>::</span><span class='const'>Platforms</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="profile-instance_method">
  
    - (<tt>Object</tt>) <strong>profile</strong>(profile) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Set the profile (i.e. .mobileprovision) to use</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>the</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name or path to the profile</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


157
158
159</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/xcode/buildspec.rb', line 157</span>

<span class='kw'>def</span> <span class='id identifier rubyid_profile'>profile</span> <span class='id identifier rubyid_profile'>profile</span>
  <span class='ivar'>@profile</span> <span class='op'>=</span> <span class='id identifier rubyid_profile'>profile</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="project_name-instance_method">
  
    - (<tt>Object</tt>) <strong>project_name</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


227
228
229</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/xcode/buildspec.rb', line 227</span>

<span class='kw'>def</span> <span class='id identifier rubyid_project_name'>project_name</span>
  <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_product_name'>product_name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="use-instance_method">
  
    - (<tt>Object</tt>) <strong>use</strong>(filename, args = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Use the given project/workspace file</p>

<p>This must be provided.</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>the</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>path to the .xcodeproj or .xcworkspace</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>a</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>hash containing =&gt; " or =&gt; ", :config =&gt; "</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


89
90
91
92</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/xcode/buildspec.rb', line 89</span>

<span class='kw'>def</span> <span class='id identifier rubyid_use'>use</span> <span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@filename</span> <span class='op'>=</span> <span class='id identifier rubyid_filename'>filename</span>
  <span class='ivar'>@args</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Aug  8 16:16:24 2013 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.5 (ruby-1.9.3).
</div>

  </body>
</html>